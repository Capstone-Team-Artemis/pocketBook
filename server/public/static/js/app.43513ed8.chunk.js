(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{254:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(49),i=n(101),s=n(211),l=n(12),c=n.n(l),u=n(31),m=n.n(u),p=function(e,t){return function(n){var a,r;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.awrap(m.a.put("http://localhost:3000/api/users/"+e,{image:t}));case 3:a=n.sent,r=a.data,console.log("CHANGED THE IMAGE --\x3e",r),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("Error saving image to server");case 11:case"end":return n.stop()}}),null,null,[[0,8]],Promise)}},d=[],f=n(11),g=n.n(f);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){return{type:"RECEIVED_EVENTS",events:e}},y={all:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVED_EVENTS":return v(v({},e),{},{all:t.events});default:return e}},w=function(e){return{type:"CREATE_EVENT",newEvent:e}},T=[],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EVENT":return t.singleEvent;default:return e}},x=function(e){return{type:"GET_BOOKS",books:e}},S=function(e){return function(t){var n;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.a.awrap(m.a.get("http://localhost:3000/api/users/"+e));case 3:n=a.sent,t(x(n.data)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]],Promise)}},C=[],I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_PROFILE":return t.user;case"GET_BOOKS":return t.books;default:return e}},P=Object(i.c)({event:k,events:b,userProfile:I,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGED_IMAGE":return t.image;case"FETCHED_USER":return t.user;default:return e}}}),O=Object(i.d)(P,Object(i.a)(s.a)),D=n(19),j=n.n(D),z=n(18),B=n.n(z),L=n(2),R=n(146),V=n(209),N=n(375),A=r.a.createContext(),U=n(79),_=n.n(U),M=n(4),W=n(23),G=n(231),F=n(20),H=n(83),K=n(255),J=n(229),q=n(239),X=n(32),Y=n(170),$=function(e){var t=Object(o.d)((function(e){return e.user.image}));console.log("IMAGE ---\x3e",t);var n=Object(o.c)(),i=Object(a.useState)(t),s=B()(i,2),l=s[0],u=s[1],d=r.a.useContext(A).logOut;Object(a.useEffect)((function(){n(function(e){return function(t){var n,a;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log("FETCHING USER ---\x3e",e),r.next=4,c.a.awrap(m.a.get("http://localhost:3000/api/users/"+e+"/image"));case 4:n=r.sent,a=n.data,console.log("DATA FROM USER ---\x3e",a),t({type:"FETCHED_USER",user:a}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.log("Error fetching user from server");case 13:case"end":return r.stop()}}),null,null,[[0,10]],Promise)}}(e.userId))}),[]);return r.a.createElement(L.a,{style:{flex:1}},r.a.createElement(J.a,e,r.a.createElement(G.a,{source:{uri:"https://png.pngtree.com/thumb_back/fw800/back_pic/04/00/88/6157ff435466669.jpg"},style:{width:void 0,padding:20,paddingTop:50}},r.a.createElement(F.a,{onPress:function(){var t,a,r;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,c.a.awrap(Y.b());case 2:if(t=o.sent,"granted"===t.status){o.next=9;break}return alert("Sorry, we need camera roll permission to make this work!"),o.abrupt("return");case 9:return o.next=11,c.a.awrap(Y.a({allowsEditing:!0}));case 11:(a=o.sent).cancelled||(u(a.uri),r=Number(e.userId),n(p(r,a.uri)));case 13:case"end":return o.stop()}}),null,null,null,Promise)}},r.a.createElement(W.a,{source:{uri:l},style:Q.profile})),r.a.createElement(H.a,{style:Q.name},e.userToken),r.a.createElement(L.a,{style:{flexDirection:"row"}})),r.a.createElement(K.a.Section,{style:Q.drawerSection},r.a.createElement(q.a,{icon:function(e){var t=e.color,n=e.size;return r.a.createElement(X.a,{name:"search",color:t,size:n})},label:"Find a Book",onPress:function(){e.navigation.navigate("LandingPage")}}),r.a.createElement(q.a,{icon:function(e){var t=e.color,n=e.size;return r.a.createElement(X.a,{name:"book",color:t,size:n})},label:"My Bookshelf",onPress:function(){e.navigation.navigate("UserProfile")}}),r.a.createElement(q.a,{icon:function(e){var t=e.color,n=e.size;return r.a.createElement(X.a,{name:"calendar",color:t,size:n})},label:"Events",onPress:function(){e.navigation.navigate("AllEvents")}}),r.a.createElement(q.a,{icon:function(e){var t=e.color,n=e.size;return r.a.createElement(X.a,{name:"sign-out",color:t,size:n})},label:"Sign Out",onPress:function(){d()}}))))},Q=M.a.create({container:{flex:1},profile:{width:80,height:80,borderRadius:40,borderWidth:3,borderColor:"#FFF"},name:{color:"black",fontSize:20,fontWeight:"800"},followers:{color:"black",fontSize:13,fontWeight:"700",marginRight:4}}),Z=n(14),ee=n(33),te=n(93),ne=n(48),ae=n(28),re=n(96);function oe(e){var t=e.navigation,n=Object(a.useState)(""),o=B()(n,2),i=o[0],s=o[1],l=Object(a.useState)([]),u=B()(l,2),p=u[0],d=u[1],f=Object(a.useState)(!1),g=B()(f,2),h=g[0],v=g[1],E=Object(a.useState)({}),y=B()(E,2),b=y[0],w=y[1];return Object(a.useEffect)((function(){!function(){var e,t,n;c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(m.a.get("https://www.googleapis.com/books/v1/volumes",{params:{q:"puppies",key:"AIzaSyCCv2Y7h0jPvMK1NF0y_nmI9V-4_lTXsWg",orderBy:"relevance"}}));case 2:e=a.sent,t=e.data,n=t.items[Math.floor(Math.random()*t.items.length)],w(n);case 6:case"end":return a.stop()}}),null,null,null,Promise)}()}),[w]),r.a.createElement(ne.a,null,r.a.createElement(ae.a,{style:ie.scrollView},r.a.createElement(re.a,null,r.a.createElement(L.a,{style:ie.container},r.a.createElement(F.a,{style:{alignItems:"flex-end",margin:16},onPress:t.openDrawer},r.a.createElement(X.a,{name:"bars",size:24,color:"#161924"})),r.a.createElement(L.a,{style:ie.center},r.a.createElement(W.a,{source:{uri:"https://i.ibb.co/rpJ7vjb/signupbook.png"},style:ie.image}),r.a.createElement(Z.a,{style:ie.heading},"Find a Book"),r.a.createElement(L.a,{style:ie.inputContainer},r.a.createElement(ee.a,{style:ie.inputText,onChangeText:function(e){s(e)}})),r.a.createElement(F.a,{style:[ie.inputContainer,ie.submitContainer],onPress:function(){m.a.get("https://www.googleapis.com/books/v1/volumes?q="+i+"&key=AIzaSyCCv2Y7h0jPvMK1NF0y_nmI9V-4_lTXsWg&maxResults=5").then((function(e){d(e.data.items),console.log(p)})).catch((function(e){console.log(e)})),v(!0)}},r.a.createElement(Z.a,{style:ie.submitText},"SUBMIT")),b.id&&r.a.createElement(L.a,null,r.a.createElement(Z.a,{style:ie.published},"Newly Published"),r.a.createElement(F.a,{onPress:function(){t.navigate("SingleBookView",b)}},r.a.createElement(W.a,{alt:b.volumeInfo.title,source:{uri:b.volumeInfo.imageLinks.thumbnail},style:{width:200,height:300,margin:"auto"}})))),r.a.createElement(L.a,{style:ie.centeredView},r.a.createElement(te.a,{animationType:"slide",transparent:!1,visible:h},r.a.createElement(ne.a,null,r.a.createElement(ae.a,null,r.a.createElement(L.a,{style:ie.bookList,style:ie.centeredView},p.map((function(e,n){return r.a.createElement(L.a,{key:n},r.a.createElement(F.a,{onPress:function(){v(!1),t.navigate("SingleBookView",e)}},r.a.createElement(W.a,{alt:e.volumeInfo.title,style:{width:100,height:150},source:{uri:e.volumeInfo.imageLinks.smallThumbnail}}),r.a.createElement(Z.a,{style:ie.bookInfo},e.volumeInfo.title),r.a.createElement(Z.a,{style:ie.bookInfo},e.volumeInfo.authors),r.a.createElement(Z.a,{style:ie.bookInfo},e.volumeInfo.averageRating)))}))),r.a.createElement(F.a,{style:[ie.inputContainer,ie.submitContainer,ie.button],onPress:function(){return v(!1)}},r.a.createElement(Z.a,{style:ie.submitText},"DONE"))))))))))}var ie=M.a.create({container:{flex:1},center:{alignItems:"center",justifyContent:"center"},scrollView:{marginHorizontal:10},image:{marginTop:40,padding:0,width:100,height:100,marginTop:50},heading:{margin:0,fontSize:30},published:{margin:0,fontSize:20,paddingTop:10,paddingLeft:25},inputText:{fontWeight:"bold",marginBottom:4,marginLeft:50,width:"100%"},inputContainer:{marginTop:20,flexDirection:"row",width:"80%",height:35,borderRadius:50,borderWidth:1.5,alignItems:"center",paddingTop:5},submitContainer:{alignItems:"center",justifyContent:"center",backgroundColor:"#6475a5"},submitText:{color:"white",fontSize:15,fontWeight:"bold",textAlign:"center",bottom:2},centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:"white",borderRadius:0,padding:35,opacity:0,alignItems:"center",shadowOpacity:100,shadowRadius:4,elevation:5},button:{marginLeft:35},bookInfo:{fontWeight:"bold",marginBottom:4,width:"100%"}}),se=n(149),le=n(52);function ce(e){var t=Object(a.useState)("Completed"),n=B()(t,2),o=n[0],i=n[1];Object(a.useEffect)((function(){!function(){var t,n;c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.a.awrap(m.a.get("http://localhost:3000/api/books/"+(e.route.book?e.route.book.googleId:e.route.params.id)));case 3:t=a.sent,n=t.data,i(n),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),null,null,[[0,8]],Promise)}()}),[i]);var s=e.route.params;return r.a.createElement(L.a,{style:ue.container},r.a.createElement(ne.a,null,r.a.createElement(ae.a,null,r.a.createElement(F.a,{style:{alignItems:"flex-end",margin:16},onPress:e.navigation.openDrawer},r.a.createElement(X.a,{name:"bars",size:24,color:"#161924"})),r.a.createElement(L.a,{style:ue.center},r.a.createElement(W.a,{style:{width:200,height:300},alt:s.volumeInfo?s.volumeInfo.title:s.book.title,source:{uri:s.volumeInfo?s.volumeInfo.imageLinks.thumbnail:s.book.image}}),r.a.createElement(Z.a,{style:ue.textTitle},s.volumeInfo?s.volumeInfo.title:s.book.title),r.a.createElement(Z.a,null,s.volumeInfo?s.volumeInfo.authors:s.book.authors),r.a.createElement(Z.a,null,s.volumeInfo?s.volumeInfo.description:s.book.description)),r.a.createElement(Z.a,{style:ue.textTitle},"Book Status"),r.a.createElement(se.a,{containerStyle:{height:40},defaultValue:o,onChangeItem:function(e){return i(e.value)},items:[{label:"Completed",value:"Completed"},{label:"Currently Reading",value:"Currently Reading"},{label:"To Read",value:"To Read"}]}),r.a.createElement(le.a,{title:"Add to Bookshelf",onPress:function(){m.a.post("http://localhost:3000/api/books",{status:o,book:{title:s.volumeInfo?s.volumeInfo.title:s.book.title,image:s.volumeInfo?s.volumeInfo.imageLinks.thumbnail:s.book.image,authors:s.volumeInfo?s.volumeInfo.authors:s.book.authors,rating:s.volumeInfo?s.volumeInfo.averageRating:s.book.rating,description:s.volumeInfo?s.volumeInfo.description:s.book.description,googleId:e.route.params.id}})}}),r.a.createElement(le.a,{title:"Delete from Bookshelf",onPress:function(){m.a.delete("http://localhost:3000/api/"+userId+"/"+s.id)}}))))}var ue=M.a.create({container:{flex:1},center:{alignItems:"center",justifyContent:"center"},textTitle:{fontWeight:"bold",alignContent:"center",width:"100%",textAlign:"center"}}),me=n(6),pe=n.n(me),de=n(9),fe=n.n(de),ge=n(10),he=n.n(ge),ve=n(13),Ee=n.n(ve),ye=n(3),be=n.n(ye),we=n(7),Te=n.n(we),ke=n(55);function xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=be()(e);if(t){var r=be()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ee()(this,n)}}var Se=function(e){he()(n,e);var t=xe(n);function n(e){var a;return pe()(this,n),(a=t.call(this,e)).unregister=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.awrap(m.a.delete("http://localhost:3000/api/events/"+a.props.user+"/unregister/"+a.props.event.id));case 3:return e.next=5,c.a.awrap(a.props.getEvents());case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),null,null,[[0,8]],Promise)},a.register=function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.awrap(m.a.post("http://localhost:3000/api/events/"+a.props.user+"/register/"+a.props.event.id));case 3:a.props.getEvents(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),null,null,[[0,6]],Promise)},a.unregister=a.unregister.bind(Te()(a)),a.register=a.register.bind(Te()(a)),a}return fe()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.event,a=t.navigate,o=(t.status,t.user),i=ke.DateTime.fromISO(n.startTime).toLocaleString(ke.DateTime.TIME_SIMPLE),s=ke.DateTime.fromISO(n.endTime).toLocaleString(ke.DateTime.TIME_SIMPLE),l=ke.DateTime.fromISO(n.date).toLocaleString(ke.DateTime.DATE_FULL);return r.a.createElement(F.a,{onPress:function(){return a.navigate("SingleEventView",n)}},r.a.createElement(L.a,{style:Ce.listContainer,key:n.id},r.a.createElement(W.a,{source:{uri:"https://static.scientificamerican.com/sciam/cache/file/1DDFE633-2B85-468D-B28D05ADAE7D1AD8_source.jpg?w=590&h=800&D80F3D79-4382-49FA-BE4B4D0C62A5C3ED"},style:Ce.image}),r.a.createElement(L.a,{style:Ce.eventData},r.a.createElement(Z.a,{style:Ce.eventTitle},n.eventTitle),r.a.createElement(Z.a,{style:Ce.date},"Date: ",l),r.a.createElement(Z.a,{style:Ce.time},"Start Time: ",i),r.a.createElement(Z.a,{style:Ce.time},"End Time: ",s),r.a.createElement(Z.a,{style:Ce.description},"Description: ",n.description),r.a.createElement(L.a,{style:Ce.registerButtonContainer},o===n.hostId?r.a.createElement(le.a,{title:"Edit/Delete",onPress:function(){a.navigate("CreateEvent",n)},color:"white",accessibilityLabel:"Status"}):r.a.createElement(le.a,{title:n.users[0]?"Unregister":"Register",onPress:function(){n.users[0]?e.unregister():e.register()},color:"white",accessibilityLabel:"Status"})))))}}]),n}(r.a.Component),Ce=M.a.create({container:{flex:1},scrollView:{marginHorizontal:10},image:{padding:0,width:100,height:100,marginTop:10,marginLeft:10},eventTitle:{fontSize:20,marginBottom:2,fontWeight:"bold"},date:{fontSize:15,marginBottom:5},time:{fontSize:15,marginBottom:5},description:{fontSize:15,marginBottom:5},listContainer:{flexDirection:"row",borderStyle:"solid",borderColor:"black",borderWidth:1,marginBottom:15,marginTop:15},eventData:{padding:10,width:250},noEvents:{fontSize:20},registerButtonContainer:{backgroundColor:"#6475a5",borderRadius:15,padding:.8,width:130,height:38,marginLeft:95}});function Ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=be()(e);if(t){var r=be()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ee()(this,n)}}var Pe=function(e){he()(n,e);var t=Ie(n);function n(e){var a;return pe()(this,n),(a=t.call(this,e)).state={status:"Upcoming",userId:1},a}return fe()(n,[{key:"componentDidMount",value:function(){this.props.getEvents(this.state.userId)}},{key:"render",value:function(){var e=this;return r.a.createElement(ne.a,{style:De.container},r.a.createElement(ae.a,{style:De.scrollView},r.a.createElement(F.a,{style:{alignItems:"flex-end",margin:16},onPress:this.props.navigation.openDrawer},r.a.createElement(X.a,{name:"bars",size:24,color:"#161924"})),r.a.createElement(L.a,{style:De.createButtonContainer},r.a.createElement(le.a,{title:"Create Event",onPress:function(){e.props.navigation.navigate("CreateEvent")},color:"white",accessibilityLabel:"Create Event"})),r.a.createElement(se.a,{style:{backgroundColor:"#fafafa"},itemStyle:{justifyContent:"flex-start"},dropDownStyle:{backgroundColor:"#fafafa"},containerStyle:{height:40},activeLabelStyle:{color:"red"},defaultValue:this.state.status,onChangeItem:function(t){return e.setState({status:t.value})},items:[{label:"Upcoming Events",value:"Upcoming"},{label:"Attending Events",value:"Attending"},{label:"Created Events",value:"Created"}]}),r.a.createElement(L.a,null,"There are currently no upcoming events!"===this.props.events?r.a.createElement(Z.a,{style:De.noEvents},"There are currently no upcoming events!"):this.props.events.filter((function(t){return"Upcoming"===e.state.status||"Attending"===e.state.status&&t.users[0]||"Created"===e.state.status&&e.state.userId===t.hostId})).map((function(t){return r.a.createElement(Se,{key:t.id,event:t,user:e.state.userId,status:e.state.status,navigate:e.props.navigation,getEvents:function(){return e.props.getEvents(e.state.userId)}})})))))}}]),n}(r.a.Component),Oe=Object(o.b)((function(e){return{events:e.events.all}}),(function(e){return{getEvents:function(t){return e(function(e){return function(t){var n,a;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.a.awrap(m.a.get("http://localhost:3000/api/events/"+e));case 3:n=r.sent,a=n.data,t(E(a)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log("Error fetching events from server");case 11:case"end":return r.stop()}}),null,null,[[0,8]],Promise)}}(t))}}}))(Pe),De=M.a.create({container:{flex:1},scrollView:{marginHorizontal:10},image:{padding:0,width:100,height:100,marginTop:10,marginLeft:10},eventTitle:{fontSize:20,marginBottom:2,fontWeight:"bold"},date:{fontSize:15,marginBottom:5},time:{fontSize:15,marginBottom:5},description:{fontSize:15,marginBottom:5},createButtonContainer:{backgroundColor:"#6475a5",marginBottom:20,borderRadius:15,width:125,height:40},listContainer:{flexDirection:"row",borderStyle:"solid",borderColor:"black",borderWidth:1,marginBottom:15,marginTop:15},eventData:{padding:10,width:250},noEvents:{fontSize:20},attendingButtonContainer:{backgroundColor:"#6475a5",borderRadius:15,padding:.8,width:130,height:38,marginLeft:95}});function je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=be()(e);if(t){var r=be()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ee()(this,n)}}var ze=function(e){he()(n,e);var t=je(n);function n(){return pe()(this,n),t.apply(this,arguments)}return fe()(n,[{key:"render",value:function(){var e=this,t=this.props.route.params,n=t.eventTitle,a=t.date,o=t.description,i=t.startTime,s=t.endTime,l=(t.hostId,ke.DateTime.fromISO(i).toLocaleString(ke.DateTime.TIME_SIMPLE)),c=ke.DateTime.fromISO(s).toLocaleString(ke.DateTime.TIME_SIMPLE),u=ke.DateTime.fromISO(a).toLocaleString(ke.DateTime.DATE_FULL);return r.a.createElement(ne.a,{style:Be.container},r.a.createElement(ae.a,{style:Be.scrollView},r.a.createElement(F.a,{style:{alignItems:"flex-end",margin:16},onPress:this.props.navigation.openDrawer},r.a.createElement(X.a,{name:"bars",size:24,color:"#161924"})),r.a.createElement(L.a,{style:Be.listContainer},r.a.createElement(L.a,{style:Be.eventData},r.a.createElement(Z.a,{style:Be.eventTitle},n),r.a.createElement(Z.a,{style:Be.date},"Date: ",u),r.a.createElement(Z.a,{style:Be.startTime},"Start Time: ",l),r.a.createElement(Z.a,{style:Be.endTime},"End Time: ",c),r.a.createElement(Z.a,{style:Be.description},o)),r.a.createElement(W.a,{source:{uri:"https://static.scientificamerican.com/sciam/cache/file/1DDFE633-2B85-468D-B28D05ADAE7D1AD8_source.jpg?w=590&h=800&D80F3D79-4382-49FA-BE4B4D0C62A5C3ED"},style:Be.image})),r.a.createElement(Z.a,null,"*Live chat shows up below at the exact date and time of the event!"),r.a.createElement(le.a,{title:"Join Now",style:Be.clickMe,onPress:function(){e.props.navigation.navigate("Chat",{title:n})},color:"#e9967a",accessibilityLabel:"Join Now"})))}}]),n}(r.a.Component),Be=M.a.create({container:{flex:1},scrollView:{marginHorizontal:10},image:{padding:0,width:100,height:100,marginTop:10,marginLeft:8},eventTitle:{fontSize:30,marginBottom:5,fontWeight:"bold"},date:{fontSize:15,marginBottom:5},startTime:{fontSize:15,marginBottom:5},endTime:{fontSize:15,marginBottom:5},description:{fontSize:15,marginBottom:5},listContainer:{flexDirection:"row",marginBottom:15,marginTop:15},eventData:{padding:10,width:250},clickMe:{backgroundColor:"#ff00ff",borderRadius:15,padding:.8,width:200,height:100,marginLeft:95}}),Le=n(36),Re=n(131),Ve=n(81),Ne=n(155);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=be()(e);if(t){var r=be()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ee()(this,n)}}var Me=Le.a.get("window").width,We=function(e){he()(n,e);var t=_e(n);function n(e){var a;return pe()(this,n),(a=t.call(this,e)).state={eventTitle:a.props.event.id?a.props.event.eventTitle:"",startDate:a.props.event.id?a.props.event.date:new Date,endDate:a.props.event.id?a.props.event.date:new Date,description:a.props.event.id?a.props.event.description:"",hostId:a.props.user.id?a.props.user.id:1},a.handleSubmit.bind(Te()(a)),a.handleDelete.bind(Te()(a)),a.handleGoBack.bind(Te()(a)),a}return fe()(n,[{key:"componentDidUpdate",value:function(e){!e.event.id&&this.props.event.id&&this.setState({eventTitle:this.props.event.eventTitle,date:this.props.event.eventTitle,time:this.props.event.eventTitle,description:this.props.event.eventTitle,host:this.props.user.id})}},{key:"handleSubmit",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props.event.id,t.prev=1,!e){t.next=7;break}return t.next=5,c.a.awrap(this.props.update(host,Ue({},this.state),e));case 5:t.next=9;break;case 7:return t.next=9,c.a.awrap(this.props.create(Ue(Ue({},this.state),{},{date:this.state.startDate,startTime:this.state.startDate.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit",hour12:!1}),endTime:this.state.endDate.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit",hour12:!1})})));case 9:this.props.navigation.navigate("AllEvents"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0),Ve.a.alert("Error","Please fill out all information");case 16:case"end":return t.stop()}}),null,this,[[1,12]],Promise)}},{key:"handleDelete",value:function(){var e=this.props.event.id;this.props.delete(host,e),this.props.navigation.navigate("AllEvents")}},{key:"handleGoBack",value:function(){this.props.navigation.navigate("AllEvents")}},{key:"render",value:function(){var e=this;return r.a.createElement(ne.a,{style:Fe.container},r.a.createElement(L.a,{style:Fe.navbar},r.a.createElement(F.a,{style:Fe.navbar,style:{alignItems:"flex-end",margin:16},onPress:this.props.navigation.openDrawer},r.a.createElement(X.a,{name:"bars",size:24,color:"#161924"}))),r.a.createElement(Z.a,{style:Fe.heading},this.props.event.id?"Update Event":"Create Event"),r.a.createElement(L.a,{style:Fe.inputContainer},r.a.createElement(ee.a,{style:Fe.input,placeholder:"Title",onChangeText:function(t){e.setState({eventTitle:t})}}),r.a.createElement(Ne.a,{value:this.state.startDate,mode:"date",display:"default",onChange:function(t,n){return e.setState({startDate:n,endDate:n})}}),r.a.createElement(Ne.a,{value:this.state.startDate,mode:"time",display:"default",onChange:function(t,n){return e.setState({startDate:n})}}),r.a.createElement(Ne.a,{value:this.state.endDate,mode:"time",display:"default",onChange:function(t,n){return e.setState({endDate:n})}}),r.a.createElement(ee.a,{style:[Fe.input,Ge],placeholder:"Description",onChangeText:function(t){e.setState({description:t})}}),r.a.createElement(Re.a,{style:Fe.button,onPress:function(){return e.handleSubmit()}},r.a.createElement(Z.a,{style:Fe.submitText},"Submit")),this.props.event.id?r.a.createElement(le.a,{title:"Delete Event",opPress:function(){return e.handleDelete()}}):r.a.createElement(le.a,{title:"Go Back",onPress:function(){return e.handleGoBack()}})))}}]),n}(a.Component),Ge={height:155},Fe=M.a.create({container:{flex:1,alignItems:"center",justifyContent:"space-evenly"},inputContainer:{},heading:{fontSize:40},input:{width:Me-55,height:35,marginTop:20,backgroundColor:"#f0f8ff",borderRadius:50,borderWidth:1.5},button:{alignItems:"center",backgroundColor:"#6475a5",padding:10,borderRadius:45,marginTop:20,borderWidth:1.5},submitText:{color:"white",fontSize:15,fontWeight:"bold",textAlign:"center",bottom:2},navbar:{paddingLeft:300}}),He=Object(o.b)((function(e){return{event:e.event,user:e.user}}),(function(e){return{create:function(t){return e(function(e){return function(t){var n;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.a.awrap(m.a.post("http://localhost:3000/api/events/createEvent",e));case 3:n=a.sent,t(w(n.data)),a.next=10;break;case 7:throw a.prev=7,a.t0=a.catch(0),a.t0;case 10:case"end":return a.stop()}}),null,null,[[0,7]],Promise)}}(t))},update:function(t,n,a){return e(function(e,t,n){return function(a){var r;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,c.a.awrap(m.a.post("http://localhost:3000/api/events/"+e+"/updateEvent/"+n,t));case 3:r=o.sent,a({type:"UPDATE_EVENT",updatedEvent:r.data}),o.next=10;break;case 7:throw o.prev=7,o.t0=o.catch(0),o.t0;case 10:case"end":return o.stop()}}),null,null,[[0,7]],Promise)}}(t,n,a))},delete:function(t,n){return e((void 0)(t,n))}}}))(We),Ke=n(71),Je=Le.a.get("window").width,qe=M.a.create({container:{flex:1,paddingTop:Ke.a.currentHeight,alignItems:"center",justifyContent:"center"},heading:{fontSize:40,margin:0},content:{marginTop:20,flexDirection:"row",width:"80%",height:35,borderRadius:50,borderWidth:1.5,alignItems:"center",paddingTop:5},bookList:{flexDirection:"row"},text:{fontSize:20},bookData:{},scrollView:{backgroundColor:"#f0f8ff",marginHorizontal:1,width:Je-20}}),Xe=Object(o.b)((function(e){return{books:e.userProfile,userId:e.user.id}}),(function(e){return{getBooks:function(t){return e(S(t))}}}))((function(e){console.log("PROPS ---\x3e",e.route.params.userId);var t=e.userId||4,n=e.books||[],i=Object(a.useState)(n),s=B()(i,2),l=s[0],c=(s[1],Object(o.c)());Object(a.useEffect)((function(){c(S(t))}),[l]);var u=n.filter((function(e){return"Currently Reading"===e.status})),m=n.filter((function(e){return"To Read"===e.status})),p=n.filter((function(e){return"Completed"===e.status}));return r.a.createElement(ne.a,{style:qe.container},r.a.createElement(ae.a,{style:qe.scrollView},r.a.createElement(L.a,{style:qe.navbar},r.a.createElement(F.a,{style:qe.navbar,style:{alignItems:"flex-end",margin:16},onPress:e.navigation.openDrawer},r.a.createElement(X.a,{name:"bars",size:24,color:"#161924"}))),r.a.createElement(L.a,null,r.a.createElement(Z.a,{style:qe.heading},"My Bookshelf")),r.a.createElement(L.a,null,r.a.createElement(Z.a,null,e.id),r.a.createElement(Z.a,{style:qe.text},"Currently Reading"),r.a.createElement(ae.a,{horizontal:!0},r.a.createElement(L.a,{style:qe.bookList},u.length>0?u.map((function(t,n){return r.a.createElement(F.a,{key:n,onPress:function(){e.navigation.navigate("SingleBookView",t)}},r.a.createElement(L.a,{style:qe.bookData},r.a.createElement(W.a,{alt:t.book.title,style:{width:100,height:150},source:{uri:t.book.image}}),r.a.createElement(Z.a,null,t.book.title)))})):r.a.createElement(Z.a,null,"No books")))),r.a.createElement(L.a,null,r.a.createElement(Z.a,{style:qe.text},"To Read"),r.a.createElement(ae.a,{horizontal:!0},r.a.createElement(L.a,{style:qe.bookList},m.length>0?m.map((function(t,n){return r.a.createElement(F.a,{key:n,onPress:function(){e.navigation.navigate("SingleBookView",t)}},r.a.createElement(L.a,{style:qe.bookData},r.a.createElement(W.a,{alt:t.book.title,style:{width:100,height:150},source:{uri:t.book.image}}),r.a.createElement(Z.a,null,t.book.title)))})):r.a.createElement(Z.a,null,"No books")))),r.a.createElement(L.a,null,r.a.createElement(Z.a,{style:qe.text},"Completed"),r.a.createElement(ae.a,{horizontal:!0},r.a.createElement(L.a,{style:qe.bookList},p.length>0?p.map((function(t,n){return r.a.createElement(F.a,{key:n,onPress:function(){e.navigation.navigate("SingleBookView",t)}},r.a.createElement(L.a,{style:qe.bookData},r.a.createElement(W.a,{alt:t.book.title,style:{width:100,height:150},source:{uri:t.book.image}}),r.a.createElement(Z.a,null,t.book.title)))})):r.a.createElement(Z.a,null,"No books"))))))})),Ye=n(153),$e=function(){var e=Object(a.useState)([]),t=B()(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){o([{_id:1,text:"Hello developer",createdAt:new Date,user:{_id:2,name:"React Native",avatar:"https://placeimg.com/140/140/any"}}])}),[]);var i=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o((function(t){return Ye.b.append(t,e)}))}),[]);return r.a.createElement(Ye.b,{messages:n,onSend:function(e){return i(e)},user:{_id:1},renderBubble:function(e){return r.a.createElement(Ye.a,j()({},e,{wrapperStyle:{right:{backgroundColor:"#6475a5"}},textStyle:{right:{color:"#fff"}}}))},alwaysShowSend:!0,scrollToBottom:!0})},Qe=(M.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"}}),n(376)),Ze=M.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},image:{width:400,height:100,marginTop:120},heading:{fontSize:40},icon:{top:8,left:20,position:"absolute"},inputContainer:{marginTop:20,flexDirection:"row",width:"90%",height:50,borderRadius:50,borderWidth:2,paddingTop:5},inputText:{fontWeight:"bold",marginLeft:60,width:"80%"},submitContainer:{alignItems:"center",justifyContent:"center",backgroundColor:"#6475a5"},submitText:{color:"white",fontSize:18,fontWeight:"bold",textAlign:"center",bottom:2},navContainer:{flexDirection:"row",marginVertical:5,alignItems:"center",justifyContent:"center"},btnEye:{position:"absolute",top:12,right:20}}),et=function(e){var t=r.a.useState(!0),n=B()(t,2),a=n[0],o=n[1],i=r.a.useContext(A).logIn,s=function(){o(!a)};return r.a.createElement(ae.a,null,r.a.createElement(re.a,{initialValues:{email:"",password:""},onSubmit:function(e){var t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==e.email&&""!==e.password){n.next=4;break}Ve.a.alert("Error","Username and/or password cannot be empty."),n.next=14;break;case 4:return n.prev=4,n.next=7,c.a.awrap(m.a.post("http://localhost:3000/auth/login/",{email:e.email,password:e.password}));case 7:t=n.sent,a={user:t.data},i(a),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),Ve.a.alert("Error","Incorrect username or password. Please try again.");case 14:case"end":return n.stop()}var a}),null,null,[[4,11]],Promise)}},(function(e){return r.a.createElement(L.a,{style:Ze.container},r.a.createElement(W.a,{source:{uri:"https://img.icons8.com/plasticine/2x/pocket.png"},resizeMode:"center",style:Ze.image}),r.a.createElement(Z.a,{style:Ze.heading},"Login"),r.a.createElement(Z.a,null,"Welcome to Pocketbook!"),r.a.createElement(L.a,{style:Ze.inputContainer},r.a.createElement(X.a,{name:"envelope",size:30,color:"grey",style:Ze.icon}),r.a.createElement(ee.a,{style:Ze.inputText,placeholder:"Email Address",keyboardType:"email-address",autoCapitalize:"none",autoCorrect:!1,onChangeText:e.handleChange("email"),value:e.values.email})),r.a.createElement(L.a,{style:Ze.inputContainer},r.a.createElement(X.a,{name:"lock",size:30,color:"grey",style:Ze.icon}),r.a.createElement(ee.a,{style:Ze.inputText,secureTextEntry:!!a,placeholder:"Password",returnKeyType:"go",onChangeText:e.handleChange("password"),value:e.values.password}),r.a.createElement(F.a,{style:Ze.btnEye,onPress:s},r.a.createElement(X.a,{name:a?"eye-slash":"eye",size:20,color:"grey"}))),r.a.createElement(F.a,{style:[Ze.inputContainer,Ze.submitContainer],onPress:e.handleSubmit},r.a.createElement(Z.a,{style:Ze.submitText},"LOGIN")))})),r.a.createElement(L.a,{style:Ze.navContainer},r.a.createElement(Z.a,null,"Don't have an account?"),r.a.createElement(Z.a,{style:[{color:"blue"},{marginLeft:3}],onPress:function(){return e.navigation.navigate("SignUp",{loggedIn:!1})}},"Sign Up!")))},tt=n(154);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=M.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},image:{padding:0,width:100,height:100,marginTop:50},heading:{margin:0,fontSize:40},name:{display:"flex",flexDirection:"row"},nameText:{fontWeight:"bold",marginLeft:10,marginTop:8,width:"80%"},inputContainer:{marginTop:20,flexDirection:"row",width:"80%",height:35,borderRadius:50,borderWidth:1.5,alignItems:"center",paddingTop:5},nameContainer:{marginTop:20,marginRight:5,width:145,height:35,borderRadius:50,borderWidth:1.5},icon:{top:5,left:20,position:"absolute"},inputText:{fontWeight:"bold",marginBottom:4,marginLeft:50,width:"80%"},submitContainer:{alignItems:"center",justifyContent:"center",backgroundColor:"#6475a5"},submitText:{color:"white",fontSize:15,fontWeight:"bold",textAlign:"center",bottom:2},navContainer:{flexDirection:"row",marginVertical:5,alignItems:"center",justifyContent:"center"},errorMsg:{color:"#FF0000",fontSize:12,marginBottom:-5},btnEye:{position:"absolute",top:7,right:15}}),ot=function(e){var t=r.a.useContext(A).signUp,n=r.a.useState({isValidEmail:!0,isValidUser:!0,isValidPassword:!0,secureTextEntry:!0}),a=B()(n,2),o=a[0],i=a[1],s=function(){i(at(at({},o),{},{secureTextEntry:!o.secureTextEntry}))};return r.a.createElement(ae.a,null,r.a.createElement(re.a,{initialValues:{email:"",password:"",username:"",firstName:"",lastName:""},onSubmit:function(e){var n;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(o.isValidUser&&o.isValidPassword){a.next=4;break}Ve.a.alert("Error","Please fix the error(s) and try again."),a.next=14;break;case 4:return a.prev=4,a.next=7,c.a.awrap(m.a.post("http://localhost:3000/auth/signup/",{email:e.email,password:e.password,username:e.username,firstName:e.firstName,lastName:e.lastName}));case 7:n=a.sent,r={user:n.data},t(r),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),alert(a.t0);case 14:case"end":return a.stop()}var r}),null,null,[[4,11]],Promise)}},(function(e){return r.a.createElement(L.a,{style:rt.container},r.a.createElement(W.a,{source:{uri:"https://i.ibb.co/rpJ7vjb/signupbook.png"},style:rt.image}),r.a.createElement(Z.a,{style:rt.heading},"Sign Up"),r.a.createElement(Z.a,null,"to join the book lovers community!"),r.a.createElement(L.a,{style:rt.name},r.a.createElement(L.a,{style:rt.nameContainer},r.a.createElement(ee.a,{style:rt.nameText,placeholder:"First Name",onChangeText:e.handleChange("firstName"),value:e.values.firstName})),r.a.createElement(L.a,{style:rt.nameContainer},r.a.createElement(ee.a,{style:rt.nameText,placeholder:"Last Name",onChangeText:e.handleChange("lastName"),value:e.values.lastName}))),r.a.createElement(L.a,{style:rt.inputContainer},r.a.createElement(X.a,{name:"envelope",size:19,color:"grey",style:rt.icon}),r.a.createElement(ee.a,{style:rt.inputText,placeholder:"Email Address",keyboardType:"email-address",autoCapitalize:"none",autoCorrect:!1,onChangeText:e.handleChange("email"),onEndEditing:function(e){return t=e.nativeEvent.text,void(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?i(at(at({},o),{},{isValidEmail:!0})):i(at(at({},o),{},{isValidEmail:!1})));var t},value:e.values.email})),o.isValidEmail?null:r.a.createElement(tt.a,{animation:"zoomIn",duration:500},r.a.createElement(Z.a,{style:rt.errorMsg},"Please enter a valid email.")),r.a.createElement(L.a,{style:rt.inputContainer},r.a.createElement(X.a,{name:"user",size:19,color:"grey",style:rt.icon}),r.a.createElement(ee.a,{style:rt.inputText,placeholder:"Username",autoCapitalize:"none",onChangeText:e.handleChange("username"),onEndEditing:function(e){e.nativeEvent.text.trim().length>=4?i(at(at({},o),{},{isValidUser:!0})):i(at(at({},o),{},{isValidUser:!1}))},value:e.values.username})),o.isValidUser?null:r.a.createElement(tt.a,{animation:"zoomIn",duration:500},r.a.createElement(Z.a,{style:rt.errorMsg},"Username must be 4 characters long.")),r.a.createElement(L.a,{style:rt.inputContainer},r.a.createElement(X.a,{name:"lock",size:20,color:"grey",style:rt.icon}),r.a.createElement(ee.a,{style:rt.inputText,secureTextEntry:!!o.secureTextEntry,placeholder:"Password",onChangeText:e.handleChange("password"),onEndEditing:function(e){e.nativeEvent.text.trim().length>=8?i(at(at({},o),{},{isValidPassword:!0})):i(at(at({},o),{},{isValidPassword:!1}))},value:e.values.password}),r.a.createElement(F.a,{style:rt.btnEye,onPress:s},r.a.createElement(X.a,{name:o.secureTextEntry?"eye-slash":"eye",size:15,color:"grey"}))),o.isValidPassword?null:r.a.createElement(tt.a,{animation:"zoomIn",duration:500},r.a.createElement(Z.a,{style:rt.errorMsg},"Password must be 8 characters long.")),r.a.createElement(F.a,{style:[rt.inputContainer,rt.submitContainer],onPress:e.handleSubmit},r.a.createElement(Z.a,{style:rt.submitText},"SIGN UP")))})),r.a.createElement(L.a,{style:rt.navContainer},r.a.createElement(Z.a,null," Already have an account?"),r.a.createElement(Z.a,{style:[{color:"blue"},{marginLeft:3}],onPress:function(){return e.navigation.navigate("Login")}},"Login!")))},it=Object(Qe.a)(),st=function(e){e.navigation;return r.a.createElement(it.Navigator,{headerMode:"none",initialRouteName:"Login"},r.a.createElement(it.Screen,{name:"Login",component:et}),r.a.createElement(it.Screen,{name:"SignUp",component:ot}))},lt=Object(Qe.a)(),ct=function(e){return a.createElement(lt.Navigator,null,a.createElement(lt.Screen,{name:"LandingPage",component:oe,options:{headerShown:!1}}),a.createElement(lt.Screen,{name:"SingleBookView",component:ce,options:{headerShown:!1}}),a.createElement(lt.Screen,{name:"AllEvents",component:Oe,options:{headerShown:!1}}),a.createElement(lt.Screen,{name:"CreateEvent",component:He,options:{headerShown:!1}}),a.createElement(lt.Screen,{name:"SingleEventView",component:ce,options:{headerShown:!1}}),a.createElement(lt.Screen,{name:"UserProfile",component:ce,options:{headerShown:!1}}),a.createElement(lt.Screen,{name:"Chat",component:$e,options:function(e){return{title:e.route.params.title,headerBackTitleVisible:!1}}}))};function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=Object(N.a)(),dt=function(){var e=r.a.useReducer((function(e,t){switch(t.type){case"GET_TOKEN":case"LOGIN":return mt(mt({},e),{},{userId:t.id,userToken:t.token,isLoading:!1});case"LOGOUT":return mt(mt({},e),{},{userToken:null,isLoading:!1});case"SIGNUP":return mt(mt({},e),{},{userId:t.id,userToken:t.token,isLoading:!1})}}),{isLoading:!0,userId:null,userToken:null}),t=B()(e,2),n=t[0],i=t[1];console.log("LOGIN STATE --\x3e",n);var s=r.a.useMemo((function(){return{logIn:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,userToken=e.user.username,userId=e.user.id.toString(),t.next=5,c.a.awrap(_.a.setItem("userToken",userToken));case 5:return t.next=7,c.a.awrap(_.a.setItem("userId",userId));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:i({type:"LOGIN",id:userId,token:userToken});case 13:case"end":return t.stop()}}),null,null,[[0,9]],Promise)},logOut:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.awrap(_.a.removeItem("userToken"));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:i({type:"LOGOUT"});case 9:case"end":return e.stop()}}),null,null,[[0,5]],Promise)},signUp:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,userToken=e.user.username,userId=e.user.id.toString(),t.next=5,c.a.awrap(_.a.setItem("userToken",userToken));case 5:return t.next=7,c.a.awrap(_.a.setItem("userId",userId));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:i({type:"SIGNUP",id:userId,token:userToken});case 13:case"end":return t.stop()}}),null,null,[[0,9]],Promise)}}}),[]);return Object(a.useEffect)((function(){setTimeout((function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.prev=1,t.next=4,c.a.awrap(_.a.getItem("userId"));case 4:return userId=t.sent,t.next=7,c.a.awrap(_.a.getItem("userToken"));case 7:e=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:i({type:"GET_TOKEN",id:userId,token:e});case 14:case"end":return t.stop()}}),null,null,[[1,10]],Promise)}),1e3)}),[]),n.isLoading?r.a.createElement(L.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},r.a.createElement(R.a,{size:"large"})):r.a.createElement(o.a,{store:O},r.a.createElement(A.Provider,{value:s},r.a.createElement(V.a,null,null!==n.userToken?r.a.createElement(pt.Navigator,{drawerContent:function(e){return r.a.createElement($,j()({},e,n))}},r.a.createElement(pt.Screen,{name:"Home",component:ct}),r.a.createElement(pt.Screen,{name:"LandingPage",component:oe}),r.a.createElement(pt.Screen,{name:"SingleBookView",component:ce,initialParams:{userId:n.userId}}),r.a.createElement(pt.Screen,{name:"UserProfile",component:Xe,initialParams:{userId:n.userId}}),r.a.createElement(pt.Screen,{name:"AllEvents",component:Oe,initialParams:{userId:n.userId}}),r.a.createElement(pt.Screen,{name:"CreateEvent",component:He,initialParams:{userId:n.userId}}),r.a.createElement(pt.Screen,{name:"SingleEventView",component:ze,initialParams:{userId:n.userId}})):r.a.createElement(st,null))))};t.a=function(){return r.a.createElement(o.a,{store:O},r.a.createElement(dt,null))}},298:function(e,t,n){e.exports=n(367)}},[[298,1,2]]]);
//# sourceMappingURL=app.43513ed8.chunk.js.map